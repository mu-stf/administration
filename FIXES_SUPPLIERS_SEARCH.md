# ๐๏ธ ุงูุฅุตูุงุญุงุช ูุงูุชุญุณููุงุช - 30 ููุงูุฑ 2026

## โ ูุง ุชู ุฅุตูุงุญู

### 1. ๐๏ธ ูุงุฆูุฉ ุงูููุฑุฏูู (`supplies.html`)

#### ุงููุดุงูู ุงููุญูููุฉ:

**ุฃ. ุฒุฑ ุงูุญุฐู ูุง ูุนูู** โ โ โ

- **ุงููุดููุฉ:** ุฎุทุฃ ูู ุนูุงูุงุช ุงูุงูุชุจุงุณ ูู ุงูุณุทุฑ 182
- **ุงูุณุจุจ:** `onclick="deleteSupplier('${s.id}', '${s.name}')'` (ุนูุงูุฉ ุฅุถุงููุฉ)
- **ุงูุญู:** ุชุตุญูุญ ุฅูู `onclick="deleteSupplier('${s.id}', '${escapeHtml(s.name)}')"`

**ุจ. ุชูุฑุงุฑ ุงูููุฑุฏูู** โ โ โ

- **ุงูุญุงู:** ูุชู ูุญุต ุนุฏู ุงูุชูุฑุงุฑ ุนูุฏ ุงูุฅุถุงูุฉ
- **ุงูุชุญุณูู:** ุงูุณูุงุญ ุจููุณ ุงูุงุณู ุนูุฏ ุงูุชุนุฏูู ุนูู ููุณ ุงูููุฑุฏ

```javascript
const exists = suppliers.find(
  (s) =>
    s.name.toLowerCase() === name.toLowerCase() &&
    (!editingSupplier || s.id !== editingSupplier.id),
);
```

**ุฌ. ุฅุถุงูุฉ ุฅููุงููุฉ ุชุนุฏูู ุงูููุฑุฏ** โ ุฌุฏูุฏ!

- **ุงูููุฒุงุช ุงููุถุงูุฉ:**
  - ุฒุฑ "โ๏ธ ุชุนุฏูู" ููู ููุฑุฏ
  - ุชุญุฏูุซ Modal ุงูุนููุงู ("ุฅุถุงูุฉ" ุฃู "ุชุนุฏูู")
  - ุชุญุฏูุซ ูุต ุงูุฒุฑ ("๐พ ุญูุธ" ุฃู "โ๏ธ ุชุญุฏูุซ")
  - ุฏุงูุฉ `editSupplier(supplier)` ุฌุฏูุฏุฉ
  - ุฏุงูุฉ `escapeHtml(text)` ูุญูุงูุฉ ูู XSS

---

### 2. ๐ ุงูุจุญุซ ุนู ุงูููุชุฌุงุช

#### ุงููุดููุฉ:

ุนูุฏ ูุชุงุจุฉ ุงุณู ุงูููุชุฌ ูุง ุชุธูุฑ ุฎูุงุฑุงุช ุตุญูุญุฉ โ

#### ุงูุณุจุจ:

ุงุณุชุฎุฏุงู `onchange` ุจุฏูุงู ูู `oninput`:

- `onchange` ูุนูู ููุท ุนูุฏ ููุฏุงู ุงูุชุฑููุฒ (blur)
- `oninput` ูุนูู ููุฑุงู ูุน ูู ุญุฑู ุชูุชุจู

#### ุงูุญู:

ุชุบููุฑ ูู 2 ููู:

1. **`new-purchase-invoice.html`**
2. **`edit-purchase-invoice.html`**

```html
<!-- ูุจู โ -->
<input ... onchange="handleProductSelect()" />

<!-- ุจุนุฏ โ -->
<input ... oninput="handleProductSelect()" />
```

**ุงููุชูุฌุฉ:**

- โ ุงูุจุญุซ ุงูููุฑู ูุนูู ูุน ูู ุญุฑู
- โ ุงูุงุฎุชูุงุฑุงุช ุชุธูุฑ ูุจุงุดุฑุฉู
- โ ุชุฌุฑุจุฉ ูุณุชุฎุฏู ุฃูุถู

---

## ๐ ุงููููุงุช ุงููุนุฏููุฉ

| ุงูููู                                                                                                                                   | ุงูุชุนุฏููุงุช                           |
| --------------------------------------------------------------------------------------------------------------------------------------- | ----------------------------------- |
| [`supplies.html`](file:///c:/Users/mk2uu/OneDrive%20-%20AlShaab%20University/Desktop/ุงุฏุงุฑุฉ%202/supplies.html)                           | ุฅุตูุงุญ ุฒุฑ ุงูุญุฐู + ุฅุถุงูุฉ ุชุนุฏูู ุงูููุฑุฏ |
| [`new-purchase-invoice.html`](file:///c:/Users/mk2uu/OneDrive%20-%20AlShaab%20University/Desktop/ุงุฏุงุฑุฉ%202/new-purchase-invoice.html)   | ุชุบููุฑ onchange ุฅูู oninput          |
| [`edit-purchase-invoice.html`](file:///c:/Users/mk2uu/OneDrive%20-%20AlShaab%20University/Desktop/ุงุฏุงุฑุฉ%202/edit-purchase-invoice.html) | ุชุบููุฑ onchange ุฅูู oninput          |

---

## ๐ฏ ููููุฉ ุงูุงุณุชุฎุฏุงู

### ุชุนุฏูู ููุฑุฏ:

1. ุงูุชุญ `supplies.html`
2. ุงุฐูุจ ููุณู "ุงูููุฑุฏูู"
3. ุงููุฑ ุฒุฑ "โ๏ธ ุชุนุฏูู" ุจุฌุงูุจ ุงูููุฑุฏ
4. ุนุฏูู ุงูุจูุงูุงุช
5. ุงููุฑ "โ๏ธ ุชุญุฏูุซ"

### ุญุฐู ููุฑุฏ:

1. ุงูุชุญ `supplies.html`
2. ุงููุฑ ุฒุฑ "๐๏ธ ุญุฐู" ุจุฌุงูุจ ุงูููุฑุฏ
3. ุชุฃููุฏ ุงูุญุฐู

### ุงูุจุญุซ ุนู ููุชุฌ:

1. ุงูุชุญ `new-purchase-invoice.html` ุฃู `edit-purchase-invoice.html`
2. ุงุจุฏุฃ ุจูุชุงุจุฉ ุงุณู ุงูููุชุฌ
3. ุณุชุธูุฑ ุงูุฎูุงุฑุงุช ุชููุงุฆูุงู ูุน ูู ุญุฑู

---

## ๐งช ุงูุงุฎุชุจุงุฑ

### ุงุฎุชุจุงุฑ 1: ุชุนุฏูู ููุฑุฏ โ

```
1. ุงูุชุญ supplies.html
2. ุงููุฑ "โ๏ธ ุชุนุฏูู" ูุฃู ููุฑุฏ
3. ุบููุฑ ุงูุงุณู ุฃู ุงููุงุชู
4. ุงููุฑ "โ๏ธ ุชุญุฏูุซ"
โ ุงููุชูุฌุฉ: ุชู ุงูุชุญุฏูุซ ุจูุฌุงุญ โ
```

### ุงุฎุชุจุงุฑ 2: ุญุฐู ููุฑุฏ โ

```
1. ุงูุชุญ supplies.html
2. ุงููุฑ "๐๏ธ ุญุฐู" ูุฃู ููุฑุฏ
3. ุชุฃููุฏ
โ ุงููุชูุฌุฉ: ุชู ุงูุญุฐู ุจูุฌุงุญ โ
```

### ุงุฎุชุจุงุฑ 3: ุงูุจุญุซ ุงูููุฑู โ

```
1. ุงูุชุญ new-purchase-invoice.html
2. ุงูุชุจ ูู ุญูู "ุจุญุซ ุนู ููุชุฌ"
3. ุงูุชุจ ุญุฑููู ุฃู ุซูุงุซุฉ
โ ุงููุชูุฌุฉ: ุชุธูุฑ ุงูุฎูุงุฑุงุช ูุจุงุดุฑุฉู โ
```

### ุงุฎุชุจุงุฑ 4: ููุน ุงูุชูุฑุงุฑ ูุน ุงูุณูุงุญ ุจุงูุชุนุฏูู โ

```
1. ุฃุถู ููุฑุฏ ุจุงุณู "ููุฑุฏ ุชุฌุฑูุจู"
2. ุญุงูู ุฅุถุงูุฉ ููุฑุฏ ุขุฎุฑ ุจููุณ ุงูุงุณู
โ ุงููุชูุฌุฉ: ุฑูุถ (ููุฑุฏ ููุฌูุฏ) โ

3. ุนุฏูู "ููุฑุฏ ุชุฌุฑูุจู" ูุงุญูุธ ุจููุณ ุงูุงุณู
โ ุงููุชูุฌุฉ: ูุจูู ุงูุชุนุฏูู โ
```

---

## ๐ง ุงูุชูุงุตูู ุงูุชูููุฉ

### ูุธุงุฆู ุฌุฏูุฏุฉ ูู `supplies.html`:

1. **`editSupplier(supplier)`**

```javascript
function editSupplier(supplier) {
  editingSupplier = supplier;
  document.getElementById("supplierModal").classList.add("active");
  document.getElementById("supplierName").value = supplier.name;
  document.getElementById("supplierPhone").value = supplier.phone || "";
  document.getElementById("supplierAddress").value = supplier.address || "";
  document.getElementById("supplierModalTitle").textContent = "ุชุนุฏูู ุงูููุฑุฏ";
  document.getElementById("saveSupplierBtn").textContent = "โ๏ธ ุชุญุฏูุซ";
}
```

2. **`escapeHtml(text)`**

```javascript
function escapeHtml(text) {
  const div = document.createElement("div");
  div.textContent = text;
  return div.innerHTML;
}
```

3. **ุชุญุฏูุซ `saveSupplier()`**

```javascript
if (editingSupplier) {
  // ุชุนุฏูู
  await SupabaseDB.updateSupplier(editingSupplier.id, supplierData);
  alert("โ ุชู ุชุญุฏูุซ ุงูููุฑุฏ ุจูุฌุงุญ!");
} else {
  // ุฅุถุงูุฉ ุฌุฏูุฏ
  await SupabaseDB.addSupplier(currentUser.id, supplierData);
  alert("โ ุชู ุฅุถุงูุฉ ุงูููุฑุฏ ุจูุฌุงุญ!");
}
```

---

## ๐ ุงูุฅุญุตุงุฆูุงุช

| ุงูุนูุตุฑ       | ุงูุนุฏุฏ     |
| ------------ | --------- |
| ูููุงุช ูุนุฏููุฉ | 3         |
| ูุธุงุฆู ุฌุฏูุฏุฉ  | 2         |
| ูุดุงูู ูุญูููุฉ | 4         |
| ุฒุฑ ุฅุถุงูู     | 1 (ุชุนุฏูู) |

---

## โ ุงูุฎูุงุตุฉ

### ูุจู ุงูุฅุตูุงุญุงุช:

- โ ุฒุฑ ุญุฐู ุงูููุฑุฏ ูุง ูุนูู
- โ ูุง ูููู ุชุนุฏูู ุจูุงูุงุช ุงูููุฑุฏ
- โ ุงูุจุญุซ ุนู ุงูููุชุฌุงุช ุจุทูุก

### ุจุนุฏ ุงูุฅุตูุงุญุงุช:

- โ ุฒุฑ ุงูุญุฐู ูุนูู ุจุดูู ุตุญูุญ
- โ ูููู ุชุนุฏูู ุจูุงูุงุช ุงูููุฑุฏ
- โ ุงูุจุญุซ ููุฑู ูุณุฑูุน
- โ ููุน ุงูุชูุฑุงุฑ ูุน ุฏุนู ุงูุชุนุฏูู

---

**ุชุงุฑูุฎ ุงูุฅุตูุงุญ:** 30 ููุงูุฑ 2026  
**ุงูุญุงูุฉ:** โ ุฌููุน ุงููุดุงูู ูุญูููุฉ  
**ุฌุงูุฒ ููุงุณุชุฎุฏุงู:** ูุนู ๐
